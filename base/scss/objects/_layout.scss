$layout-spacing: 4rem !default;
$layout-side-width: percentage(1/3) !default;

@include above(lap) {

	.o-layout {
    width: 100%;
		display: flex;

		justify-content: center;
		align-items: stretch;
		flex-wrap: wrap;
	}

	.o-layout__full {
		width: 100%;
		flex: 0 0 100%;
	}

	.o-layout__main {
		width: calc(100% - #{$layout-side-width} - #{$layout-spacing});
		flex: 1 1 auto;
	}

	.o-layout__side {
		width: $layout-side-width;
		@include spacing(margin-left, $layout-spacing);
		flex: 0 0 auto;
	}

  .o-layout--blog {

    .o-layout__main {
      width: calc(100% - #{$sidebar-width} - #{$layout-spacing});
    }

    .o-layout__side {
      width: $sidebar-width;
    }
  }
}

.single-post:not(.has-sidebar) {

  @include above(lap) {
    #{$content-selector} {
      margin-left: percentage(1/3);
    }
  }

	blockquote cite,
	blockquote.inner {
		position: relative;
		margin-left: percentage(1/3);

		&:before {
			position: absolute;
			top: 0.6em;
			left: auto;
			right: 100%;
		}
	}
}

@include above(lap) {

  .single-post.has-sidebar {
    #{$content-selector} {
      margin-left: auto;
      margin-right: 0;
    }
  }
}
